---
title: ä½¿ç”¨ Tauri æ„å»ºçš„å°å·¥å…·ä½“ç§¯å±…ç„¶è¿™ä¹ˆå°
published: 2024-05-24
updated: 2024-05-24
description: 'ä½¿ç”¨Svelte+Vite+daisyUIå¸®æµ‹è¯•åŒå­¦åšçš„DecryptKitè§£å¯†å°å·¥å…·ï¼ŒTauriæ‰“åŒ…åçš„ç¨‹åºä½“ç§¯å±…ç„¶åªæœ‰3.5MBã€‚'
tags: [Tauri,Svelte,Crypto]
category: 'Learning'
draft: false 
---

### èƒŒæ™¯

æœ€è¿‘ç¬¬ä¸‰æ–¹å…¬å¸åœ¨é™†ç»­äº¤ä»˜æ–°å¹³å°äº†ï¼Œæµ‹è¯•åŒå­¦å‘ç°å¾ˆå¤šæ¥å£è¿”å›çš„æ•°æ®æ˜¯åŠ å¯†äº†çš„ï¼Œæµ‹è¯•æ—¶å¾ˆä¸æ–¹ä¾¿ã€‚

> psï¼šè¯´å®è¯ï¼Œæˆ‘å¾ˆéš¾ç†è§£è¿™ç§åŠ å¯†éœ€æ±‚ï¼Œè¿™äº›æ•°æ®æœ¬æ¥å°±æ˜¯è¦å±•ç¤ºçš„ï¼Œä¸ºä»€ä¹ˆè¿˜è¦åŠ ä¸€å±‚åŠ è§£å¯†è¿‡ç¨‹å‘¢ï¼Ÿå‰ç«¯è¦è§£å¯†æµè§ˆå™¨ä¹Ÿæ˜¯ä¸€å®šèƒ½æ‹¿åˆ°å¯†é’¥çš„å§ï¼Œæ‡‚å¾—çœ‹æ¥å£æ•°æ®çš„äººä¹Ÿä¸ä¼šæ‰¾ä¸åˆ°å¯†é’¥åœ¨å“ªçš„å‘€ğŸ¤”ï¼ŒçœŸâ€œé˜²å›å­ä¸é˜²å°äººâ€ï¼Ÿ

äºæ˜¯ä»–è®©æˆ‘çœ‹çœ‹å‰ç«¯æ˜¯æ€ä¹ˆå±•ç¤ºè¿™äº›åŠ å¯†æ•°æ®çš„ï¼Œç”¨çš„ä»€ä¹ˆåŠ è§£å¯†ç®—æ³•ã€‚

äºæ˜¯æˆ‘ç†Ÿç»ƒåœ°å…¨å±€æœç´¢"crypto"ï¼Œå‘ç°æ˜¯ä½¿ç”¨äº†"gm-crypto"çš„ `SM4`ç®—æ³•ã€‚æƒ³ç€æœ€è¿‘äº‹æƒ…ä¸å¤šï¼Œæˆ‘å°±ç›´æ¥å†™ä¸ªuiç•Œé¢è®©æµ‹è¯•åŒå­¦ç”¨äº†ã€‚

`ä»£ç å’Œæ¼”ç¤ºåœ°å€åœ¨æ–‡æœ«ã€‚`

### å¼€å‘

äºæ˜¯æˆ‘æŠŠä¹‹å‰æ‘†å¼„Svelteæ—¶å»ºçš„ä»“åº“æ‹¿æ¥ï¼Œèµ·äº†ä¸€ä¸ªå°é¡¹ç›®:

```bash
pnpm add gm-crypto
```

ç„¶åç”¨daisyUIæ‰‹æ“äº†ä¸€ä¸ª`SM4`è§£å¯†ç•Œé¢ï¼š

  ![image-20240524154556300.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9c659cd5ce6a4f3bb1a0e91b3887f101~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1902&h=952&s=115047&e=png&b=282a35)



daisyUI çš„æ ·å¼æ­é… tailwindcss åœ¨å¼€å‘å°å·¥å…·çš„æ—¶å€™çœŸçš„æ˜¯ååˆ†æ–¹ä¾¿ã€‚

### å¼€ç®±å³ç”¨

å¼€å‘å®Œä¹‹åï¼Œæˆ‘æƒ³åˆ°æ€»ä¸èƒ½æŠŠé¡¹ç›®å‘ç»™æµ‹è¯•åŒå­¦ï¼Œæ¯æ¬¡ç”¨çš„æ—¶å€™å†æœ¬åœ°`npm run dev`ğŸ¤£å§ã€‚æ€»å¾—æ•´ä¸ªä»–èƒ½å¾ˆæ–¹ä¾¿æ‰“å¼€çš„æ–¹å¼ã€‚äºæ˜¯æˆ‘å°è¯•äº†ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š

1.  **éƒ¨ç½²ä¸Šçº¿**ã€‚é¦–å…ˆæ˜¯æˆ‘æœ¬äººæœ€å¸¸ç”¨çš„ Vercel ä¸€é”®éƒ¨ç½²ï¼Œç›´æ¥åˆ° Vercel æ§åˆ¶å°â€œç‚¹ç‚¹ç‚¹â€ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†ç½‘ç«™éƒ¨ç½²åˆ° Vecel çš„å…è´¹æœåŠ¡å™¨ä¸ŠğŸ¥³ã€‚
   
    ![image-20240524160428563.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3696f139b95d4821b2bad1b02441740f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1884&h=932&s=130231&e=png&b=fdfdfd)

    å¯æƒœå‰æ®µæ—¶é—´Vercelè¢«å¢™äº†ï¼Œæƒ³è®¿é—®åœ¨Vercelä¸Šéƒ¨ç½²çš„ç½‘ç«™åªèƒ½é€šè¿‡é­”æ³•ã€‚

2.  **æ‰“åŒ…æˆ.exeæ–‡ä»¶**ã€‚ç›´æ¥æ‰“åŒ…æˆå¯åœ¨ win ä¸Šè¿è¡Œçš„ .exe æ–‡ä»¶ï¼ŒæŠŠå®‰è£…åŒ…å‘ç»™æµ‹è¯•åŒå­¦ä¸å°±å¯ä»¥äº†ï¼ä¸è¿‡ä¹‹å‰è‡ªå·±äº†è§£ Electron æ—¶ï¼Œç”¨ Electron æ‰“åŒ…äº†ä¸€ä¸ªçº¯å‰ç«¯çš„ Vue3 é¡¹ç›®ï¼Œä¸€å…±4ä¸ªé¡µé¢ï¼Œæœ€åçš„ç¨‹åºæœ‰100å¤šMBã€‚æˆ‘å¯»æ€æˆ‘è¿™æ¬¡å°±ä¸€ä¸ªé¡µé¢ï¼Œå¦‚æœæ‰“åŒ…æˆè¿™ä¹ˆå¤§çš„é¡¹ç›®ä¹Ÿä¸å¤ªè¡Œã€‚æ°å¥½å‰æ®µæ—¶é—´ä¸ºäº†äº†è§£ wasm æˆ‘å®‰è£…äº† Rustï¼Œåˆäº†è§£åˆ°äº† Tauri æ‰“åŒ…çš„ç¨‹åºä½“ç§¯å¾ˆå°ï¼Œè€Œæˆ‘è¿™ä¸ªçº¯å‰ç«¯é¡¹ç›®ä¹Ÿä¸ç”¨å†™ Rust æœåŠ¡ï¼Œè¿˜ä¸ç”¨è€ƒè™‘å…¼å®¹æ€§ï¼ˆå…¨éƒ¨win11ï¼‰ï¼Œé‚£ä¹ˆå°±è¯•è¯• Tauri å§ï¼

    *   å‡†å¤‡ï¼šå‚è€ƒ [é¢„å…ˆå‡†å¤‡ | Tauri Apps](https://tauri.app/zh-cn/v1/guides/getting-started/prerequisites)

    *   é›†æˆï¼šå‚è€ƒ [é›†æˆåˆ°å·²æœ‰é¡¹ç›® | Tauri Apps](https://tauri.app/zh-cn/v1/guides/getting-started/setup/integrate)

    *   é…ç½®ï¼šä¸»è¦éœ€è¦æ³¨æ„ tauri.conf.json ä¸­çš„ä»¥ä¸‹é…ç½®ã€‚

        ```json
        {
          "$schema": "../node_modules/@tauri-apps/cli/schema.json",
          "build": {
            "beforeBuildCommand": "pnpm run build:browser",  //å¯¹åº” package.json
            "beforeDevCommand": "pnpm run dev:browser", //å¯¹åº” package.json
            "devPath": "http://localhost:8080", //å¯¹åº” vite.config.ts
            "distDir": "../dist"  //å¯¹åº” vite.config.ts
          },
          // ...
          "tauri": {
            // ...
            "bundle": {
              // ...
              "identifier": "DecryptKit", // éšä¾¿ä¿®æ”¹ä¸€ä¸ªç‰¹å®šçš„æ ‡è¯†
              // ...
            },
            // ...
          }
        }
        ```

    *   æœ¬åœ°å¼€å‘ï¼š

        ```bash
        tauri dev
        ```

        > é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œéœ€è¦ä¸‹è½½å’Œç¼–è¯‘å¾ˆå¤šä¾èµ–ï¼Œç¼–è¯‘æ—¶é—´è¾ƒé•¿ï¼Œå¯ä»¥å…ˆå»åšåˆ«çš„äº‹ã€‚è¿˜å¯èƒ½å› ä¸ºç½‘ç»œé—®é¢˜æŠ¥é”™ï¼Œ`åˆ é™¤targetæ–‡ä»¶å¤¹`å¹¶é‡æ–°è¿è¡Œå³å¯ã€‚ åç»­å†å¯åŠ¨å°±ä¼šå¾ˆå¿«äº†ã€‚
        >
        > å¯åŠ¨æˆåŠŸåï¼š ![image-20240524162916529.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a72ebf5c34b44ebcaa335c39cdf016c9~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=964&h=1079&s=68937&e=png&b=ffffff)

    *   æ‰“åŒ…ï¼š

        ```bash
        tauri build
        ```

        > åŒä¸Šï¼Œé¦–æ¬¡æ‰“åŒ…æ—¶ä¹Ÿå¾ˆæ…¢ã€‚
        >
        > æ‰“åŒ…æˆåŠŸåï¼š
        >
        > ![image-20240524164006301.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/87916f65a74a4888b3c8f3784c819a35~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=595&h=897&s=60454&e=png&b=22262c)


æ‰“åŒ…ç”Ÿæˆåçš„.exeç¨‹åºç«Ÿç„¶åªæœ‰3.5MBğŸ¥³!

![image-20240524164145053.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed2411ed5fcf4846a3ff2081a51413cb~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=394&h=147&s=6824&e=png&b=fcfbfb)

### ä»£ç ä¸æ¼”ç¤ºåœ°å€

*   ä»£ç ä»“åº“ï¼š[HyaCiovo/DecryptKit-SM4 (github.com)](https://github.com/HyaCiovo/DecryptKit-SM4)
*   æ¼”ç¤ºåœ°å€ï¼š[DecryptKit (decryptkit-sm4.vercel.app)](https://decryptkit-sm4.vercel.app/)
*   è½¯ä»¶ï¼š<https://pan.xunlei.com/s/VNydp8EVIHU_b-l1b5LtUMD8A1?pwd=h2u3#>  æå–ç ï¼šh2u3
